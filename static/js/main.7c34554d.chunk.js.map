{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["EventTypes","HandlerTypes","debounced","throttled","HANDLER","App","useState","duration","tick","setTick","rawOn","setRawOn","decoOn","setDecoOn","active","setActive","decoHandlerType","setDecoHandlerType","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","rawEvents","document","getElementById","decoratedEvents","classList","add","append","getTick","t","remove","trigger","removeEventListener","decoEventHandler","_","throttle","leading","trailing","handler","addEventListener","eventType","createElement","className","clearTicks","innerHTML","htmlFor","name","onChange","e","currentTarget","value","Object","values","map","val","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7c34554d.chunk.js","sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport './App.css';\nimport * as _ from 'lodash';\nimport { throttle } from 'lodash';\n\nconst TotalTicks = 75;\nconst EventTypes = {\n\traw: 'raw',\n\tdeco: 'deco',\n};\n\nconst HandlerTypes = {\n\tdebounced: 'debounced',\n\tthrottled: 'throttled',\n};\n\nlet HANDLER = () => {};\n\nfunction useInterval(callback: () => void, delay: number) {\n\tconst savedCallback = useRef<() => void>();\n\n\t// Remember the latest callback.\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback;\n\t}, [callback]);\n\n\t// Set up the interval.\n\tuseEffect(() => {\n\t\tfunction tick() {\n\t\t\t(savedCallback.current as () => void)();\n\t\t}\n\t\tlet id = setInterval(tick, delay);\n\t\treturn () => clearInterval(id);\n\t}, [delay]);\n}\n\nfunction App() {\n\tconst [duration] = useState(100);\n\tconst [tick, setTick] = useState(0);\n\tconst [rawOn, setRawOn] = useState(false);\n\tconst [decoOn, setDecoOn] = useState(false);\n\tconst [active, setActive] = useState(false);\n\tconst [decoHandlerType, setDecoHandlerType] = useState(\n\t\tHandlerTypes.debounced\n\t);\n\n\tconst render = () => {\n\t\tconst rawEvents = document.getElementById('raw-events') as HTMLDivElement;\n\t\tconst decoratedEvents = document.getElementById(\n\t\t\t'decorated-events'\n\t\t) as HTMLDivElement;\n\t\tif (active && tick < TotalTicks) {\n\t\t\tdocument.getElementById('trigger')?.classList.add('active');\n\t\t\trawEvents.append(getTick(EventTypes.raw));\n\t\t\tdecoratedEvents.append(getTick(EventTypes.deco));\n\t\t\tsetTick((t) => t + 1);\n\t\t\tsetDecoOn(false);\n\t\t\tsetRawOn(false);\n\t\t} else {\n\t\t\tdocument.getElementById('trigger')?.classList.remove('active');\n\t\t\tsetActive(false);\n\t\t}\n\t};\n\tuseInterval(render, duration);\n\n\t// set up event handlers for trigger area\n\tuseEffect(() => {\n\t\tconst trigger = document.getElementById('trigger');\n\t\t// remove previous (possibly outdated) handlers\n\t\ttrigger?.removeEventListener('click', HANDLER);\n\t\ttrigger?.removeEventListener('mousemove', HANDLER);\n\n\t\tconst rawEventHandler = () => {\n\t\t\tsetRawOn(true);\n\t\t};\n\n\t\tlet decoEventHandler = () => {};\n\n\t\tswitch (decoHandlerType) {\n\t\t\tcase HandlerTypes.debounced:\n\t\t\t\tdecoEventHandler = _.debounce(() => {\n\t\t\t\t\tsetDecoOn(true);\n\t\t\t\t}, duration * 4);\n\t\t\t\tbreak;\n\t\t\tcase HandlerTypes.throttled:\n\t\t\t\tdecoEventHandler = throttle(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tsetDecoOn(true);\n\t\t\t\t\t},\n\t\t\t\t\tduration * 4,\n\t\t\t\t\t{ leading: true, trailing: false }\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst handler = () => {\n\t\t\tsetActive(true);\n\t\t\trawEventHandler();\n\t\t\tdecoEventHandler();\n\t\t};\n\n\t\tHANDLER = handler;\n\n\t\ttrigger?.addEventListener('click', handler);\n\t\ttrigger?.addEventListener('mousemove', handler);\n\t}, [decoHandlerType, duration]);\n\n\tconst getTick = (eventType: string) => {\n\t\tconst tick = document.createElement('span');\n\t\tswitch (eventType) {\n\t\t\tcase EventTypes.raw:\n\t\t\t\ttick.className = rawOn ? 'color' : '';\n\t\t\t\tbreak;\n\t\t\tcase EventTypes.deco:\n\t\t\t\ttick.className = decoOn ? 'color' : '';\n\t\t\t\tbreak;\n\t\t}\n\t\treturn tick;\n\t};\n\n\tconst reset = () => {\n\t\tclearTicks();\n\t\tsetTick(0);\n\t\tsetActive(false);\n\t\tsetRawOn(false);\n\t\tsetDecoOn(false);\n\t};\n\n\tconst clearTicks = () => {\n\t\tconst rawEvents = document.getElementById('raw-events') as HTMLDivElement;\n\t\tconst decoratedEvents = document.getElementById(\n\t\t\t'decorated-events'\n\t\t) as HTMLDivElement;\n\t\trawEvents.innerHTML = '';\n\t\tdecoratedEvents.innerHTML = '';\n\t};\n\n\tconst selectHanlder = (handler: string) => {\n\t\tif (handler in HandlerTypes) {\n\t\t\tsetDecoHandlerType(handler);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<label htmlFor=\"event-type\">Currently Selected: </label>\n\t\t\t<select\n\t\t\t\tname=\"event-type\"\n\t\t\t\tid=\"event-type\"\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tselectHanlder(e.currentTarget.value);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{(Object.values(HandlerTypes) as string[]).map((val) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option value={val} key={val}>\n\t\t\t\t\t\t\t{val}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</select>\n\n\t\t\t{/* control panel */}\n\t\t\t<br />\n\t\t\t<div id=\"trigger\" className={`control trigger-area`}>\n\t\t\t\tTrigger\n\t\t\t</div>\n\t\t\t<div id=\"reset\" className=\"control reset\" onClick={reset}>\n\t\t\t\tReset\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tMove around in (or click) the 'Trigger' area to simulate events. <br />\n\t\t\t</div>\n\n\t\t\t<div className=\"stage\">\n\t\t\t\t<h3>Raw Events - {duration}ms</h3>\n\t\t\t\t<div id=\"raw-events\" className=\"events\"></div>\n\t\t\t\t<h3>\n\t\t\t\t\t{_.capitalize(decoHandlerType)} Events - {duration * 4}ms\n\t\t\t\t</h3>\n\t\t\t\t<div id=\"decorated-events\" className=\"events\"></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}